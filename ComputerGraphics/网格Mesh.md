# 网格Mesh

用于表示物体的表面，网格通过顶点和顶点之间的关系表示

### 数据格式

一个模型网格信息包括：
1. 顶点坐标
2. 顶点uv坐标
3. 顶点向量
4. 顶点连接关系

<img width="648" height="349" alt="image" src="https://github.com/user-attachments/assets/5794a527-67c2-4efb-9273-804ca973a9b5" />

### 曲线/曲面

经典的曲线：贝塞尔曲线

通过递归的线性插值计算，例如：
1. 三个控制点b0,b1,b2，b0起点，b2终点，b1控制点
2. 先在b0,b1之间按参数t进行线性插值，得到一个点c0
3. 再在b1,b2之间按参数t线性插值，得到点c1
4. 最后在c0,c1之间对参数t进行线性插值，得到贝塞尔曲线上的点
5. 将参数t从0至1枚举，则得出贝塞尔曲线

贝塞尔曲面通过贝塞尔曲线得出：
1. 先确定空间中的控制点
2. 得出若干条贝塞尔曲线
3. 将贝塞尔曲线中的点作为控制点
4. 得出贝塞尔曲面

### 网格的细分

核心思想：
1. 先增加新的顶点
2. 再通过平均值确定新顶点和旧顶点的位置
3. 以保证平滑

#### loop 细分

只能对三角形细分子三角形

原理：
1. 对于新顶点，使用其相邻顶点位置求加权平均，权值参考与新顶点的距离
2. 对于旧顶点，参考其本身和邻居顶点的位置，进行变化

#### Catmull-Clark 细分

可以对四边形和三角形进行细分

原理：
1. 几乎同理，除了公式细节

### 网格的删除

通过边坍缩技术，也就是将边删除，合并边所连接的两个顶点

问题:选择哪条边删？

计算每一条边的**⼆次误差度量**，删除二次误差度量最小的边

存在的问题：非最优解，但效果还行

二次度量误差：使得删边后得到的顶点，必须到之前所有三角形面的距离平方和最小


