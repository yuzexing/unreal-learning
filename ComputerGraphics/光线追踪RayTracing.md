# 光线追踪RayTracing

### 为什么要用光线追踪

光栅化的局限在于：

1. 对全局效果的支持不够好，例如：

> 1. 软阴影
> 2. glossy反射（毛玻璃效果的反射）
> 3. 间接光照（光线弹射多次抵达人眼）

2. 渲染速度快，但质量低


光线追踪的优势：

1. 质量高，速度慢
2. 符合物理规律，更真实的渲染结果

### 光线追踪的原理(Recursive Ray Tracing)

1. 从观测相机(人眼,点)出发，向投影的近平面中某一像素发射光线
2. 当光线碰撞到三角形
3. 判断三角形是否可以被点光源看到，看不到则在阴影里
4. 对光线进行反射
5. 对次级反射光线碰到的三角形，也进行阴影判断
6. 将**所有光线碰撞的点**的着色，加到像素上


<img width="562" height="360" alt="image" src="https://github.com/user-attachments/assets/357a6601-226f-40f4-aa5e-8873412a5f72" />



问题一：光线追踪中的着色，是逐顶点着色吗？也就是说光线的能量是整个三角形面统一的吗

问题二：光线从相机视角出发，能量衰减的计算是不是反了？应该从点光源出发时的能量是完整的，抵达相机时衰减了


