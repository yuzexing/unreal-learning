# TCP和UDP

TCP和UDP都属于传输层协议，

### TCP
特点
1. 面向连接
2. 可靠传输
3. 面向字节流
4. 资源开销大


### UDP
特点：
1. 面向无连接
2. 不可靠传输
3. 面向数据报
4. 延迟低

### TCP的传输过程

1. 应用层将数据给到传输层(TCP协议)
2. 传输层的TCP协议对总数据进行分段，每一个数据段包含[TCP头+有效数据]，TCP头包含(端口号，校验和等)，(其中分段大小MSS(最大分段单元)通过三次握手确定)
3. 传输层将数据交给网络层(IP协议)
4. 网络层对数据进行分片，分片大小通过MTU确定，添加网络层头部[ip头部 + 上一层数据]，IP头部包含：源IP地址，目标IP地址
5. 数据链路层对数据分帧，按帧传输，会添加以太网头部，[以太网头部 + 上一层数据 + 校验尾部]，（如果校验出错，可能直接丢弃，也可能根据协议自己做重传，数据链路层也有自己的重传协议）（以太网头部，就是mac地址）
6. 

### TCP头部信息

### UDP头部信息

### 问题一：TCP如何保证可靠传输

1. 首部校验和
2. 确认应答机制
3. 超时重传机制
4. 流量控制
5. 拥塞控制


### 问题二：如何使用UDP实现可靠传输

如同QUIC协议，在应用层实现可靠传输

因为传输层的TPC/UDP协议已经被广泛的使用，除非进行大面积的升级

### 问题三：队头阻塞是如何解决的?

> 待补充

### 问题四：面向字节流和数据报的区别是什么？

> 待补充

### 问题五：为什么UDP延迟低？

### 问题六：TCP和UDP哪个包体积小？

TCP小

### 问题七：TCP是怎么发送和接收数据的？

### 问题八：UDP是怎么发送和接收数据的？

### 问题九：TCP粘包是什么？

### 问题十：TCP粘包怎么解决？

### 问题十一：UDP为什么没有粘包？

