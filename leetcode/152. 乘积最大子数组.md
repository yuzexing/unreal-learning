# 152. 乘积最大子数组

### 初次提交
```
class Solution {
public:
    int maxProduct(vector<int>& nums) {
        int begin = 0;
        int end = nums.size();
        int max = INT_MIN;
        for (int i = 0; i < nums.size();) {
            if (nums[i] == 0) {
                end = i;
                max = std::max(max, finMax(vector<int>(nums.begin() + begin, nums.begin() + end)));
                max = std::max(max, 0);
                while (i < nums.size() && nums[i] == 0) {
                    i++;
                }
                begin = i;
            }
            else {
                i++;
            }
        }
        end = nums.size();
        if (begin + 1 <= end) {
            max = std::max(max, finMax(vector<int>(nums.begin() + begin, nums.begin() + end)));
        }
        return max;
    }
    int finMax(const vector<int>& nums) {
        // 枚举
        vector<int> res;
        res.reserve(nums.size());
        int k = 1;
        int max = INT_MIN;
        for (int i : nums) {
            k *= i;
            res.push_back(k);
            max = std::max(max, k);
        }
        for (int i = 0; i < nums.size(); i++) {
            for (int j = i + 1; j < nums.size(); j++) {
                if (res[i] == 0) {
                    max = std::max(max, 0);
                    continue;
                }
                int n = res[j] / res[i];
                max = std::max(max, n);
            }
        }
        return max;
    }
};
```
### 结果
![image](https://github.com/user-attachments/assets/e2299b60-e33b-4c49-9bf7-4d6c5103ac35)


### 分析
时间复杂度O(n²)，空间复杂度O(n)


