# 战斗系统

流程
1. 蒙太奇追踪通知，进行通道追踪检测
2. 对攻击发起者自身设置攻击属性``OwnerAttackProperty``（用于自身发起的投技，来同步敌人到蒙太奇位置的）
3. 对每个敌人的战斗组件上设置攻击属性``received attack property``
4. 对敌人造成1点伤害
5. 在角色蓝图中，``Event any damage``回调中处理``attack property``，最后尝试进入死亡状态
6. ``on Attack Received``事件中获取战斗组件
7. 将伤害处理逻辑交由战斗组件中的防御属性处理(``Defense Property``中的``ProcessReceivedAttack``函数)
8. 先由接受攻击属性处理攻击属性，再由攻击属性应用冲击属性``impact property``，最后由攻击属性处理攻击特性(AttackPropertyTraits)
9. 处理攻击属性:将impact property与attack property绑定；遍历处理每一个impact property
10. 参考代码中的注释
11. 再由接受攻击属性施加攻击属性，将之前计算的伤害结果，受击伤害状态/受击伤害所对应的类型，应用于attribute上
12. 

战斗组件包含：
1. 防御属性 Defense Property
2. 接受攻击属性 Received Attack Property，是Attack Property
3. 攻击属性 Owner Attack Property，是Attack Property
4. 战斗目标 Combat Targets

一次攻击包含：
1. 攻击属性 外层
   - 攻击属性 实例
   - - 攻击方向
     - 攻击属性标签
     - 攻击属性特性(布娃娃属性)
